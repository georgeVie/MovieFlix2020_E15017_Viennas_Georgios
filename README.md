# MovieFlix2020_E15017_Viennas_Georgios
## Οδηγίες Εγκατάστασης εφαρμογής

Για να εγκαταστήσουμε την εφαρμογή πρέπει πρώτα να κάνουμε clone το repository στον υπολογιστή. Μέσω ενός terminal κατευθυνόμαστε στον φάκελο που θέλουμε να έχουμε τα αρχεία της εφαρμογής και εκτελούμε την εξης εντολή:
```bash
git clone https://github.com/georgeVie/MovieFlix2020_E15017_Viennas_Georgios.git
```

Έτσι λοιπόν έχουμε όλα τα απαραίτητα αρχεία για την εγκατάσταση της εφαρμογής στον υπολογιστή. Τώρα πηγαίνοντας μέσα στον φάκελο της εφαρμογής στον terminal χρησιμοποιούμε το docker compose για να εγκαταστήσουμε και να διαμορφώσουμε όλα τα απαραίτητα container για την εφαρμογή. Εκτελόντας την εξης εντολη:
```bash
(sudo) docker-compose up
```

Με αυτή την εντολή δημιουργούνται 2 container. Το κάθε container είναι ενα virtual machine το οποίο τρέχει στον υπολογιστή μας. Το ενα container που δημιουργείται είναι περιέχει τον "server" από όπου τρέχει η εφαρμογή και εκτελεί όλο τον κώδικα python. Το άλλο container έχει την βάση δεδομένων δηλαδή την mongobd στην προκειμένη περίπτωση οπου εκεί αποθηκεύονται ολα τα δεδομένα των χρηστών και των ταινιών. Μέσω του docker compose όταν φτιάχνετε το container της  mongo γίνεται και το seeding της βάσης όπου εισάγονται 3 χρήστες και 2 ταινίες που θα δούμε στην συνέχεια.

Μετά το τέλος της διαδικασίας άμα κατευθυνθούμε στην εξής διεύθυνση: http://localhost:5000 θα πρέπει να δούμε την σελίδα εισόδου της εφαρμογής.

## Λειτουργίες του συστήματος - Απλού Χρήστη

* ### Εγγραφή χρήστη http://localhost:5000/register
    Εκεί κάποιος χρήστης μπορεί να εγγραφεί στην σελίδα και έπειτα να κάνει είσοδο στο σύστημα.
* ### Είσοδος χρήστη http://localhost:5000/login
    Εκεί ο χρήστης μπορεί να κάνει είσοδο στο σύστημα με το email του και τον κωδικό του.
    Οι χρήστες οι οποίοι υπάρχουν ήδη στην βάση είναι οι εξής:

    | Name  | Email    | Password | Category| 
    |-------|----------|----------|---------|
    | Justin|justin@admin.com| 1111  | Admin| 
    | Sam   |sam@user.com    | 1234  | User | 
    | Nick  |nick@admin.com  | admin | Admin|

    Μετά την επιτυχή είσοδο ο χρήστης προτρέπεται στην κεντρική σελίδα της εφαρμογής όπου εκεί υπάρχουν όλες οι λειτουργίες που ζητούνται απο την εκφώνηση της εργασίας και αφορούν απλούς χρήστες.

* ### Αναζήτηση ταινίας (πληροφορίες, σχόλια, βαθμολογία) http://localhost:5000
    Μέσω της φόρμας με το όνομα Αναζήτηση ταινίας που βρίσκεται στην κεντρική σελίδα της εφαρμογής ο χρήστης μπορεί να αναζητήσει ταινίες με ενα απο τα εξής κριτήρια: **τίτλος ταινίας, έτος κυκλοφορίας, πρωταγωνιστή**. Αφού συμπληρωθεί κάποιο κριτήριο, αν υπάρχουν ταινίες που ταιριάζουν στα κριτήρια εμφανίζονται στο κάτω μέρος της φορμας αλλιώς εμφανίζεται σχετικό μήνυμα στην οθόνη
    ![alt text](/img/Search.png)
    Όπως βλέπουμε και στην εικόνα μεσω της αναζήτησης εμφανίζονται οι ταινίες μαζί με τις σχετικές πληροφορίες τους, τα σχόλια των χρηστών και την βαθμολογία της ταινίας. Η βαθμολογία είναι ο μέσος όρος των βαθμολογιών των χρηστών για την συγκεκριμένη ταινία στο MovieFlix.

* ### Βαθμολόγηση ταινίας http://localhost:5000
    * #### Βαθμολόγηση ταινίας
    
        Μέσω της φόρμας **Βαθμολόγηση ταινίας** ο χρήστης συμπληρώνοντας τον τίτλο της ταινίας,την βαθμολογία που θέλει να δώσει και πατόντας το κουμπί **Βαθμολογιση** μπορεί να κάνει βαθμολογία μιας ταινίας.
    * #### Αφαίρεση βαθμολογίας
    
        Μέσω της ίδιας φόρμας ο χρήστης μπορεί να συμπληρώσει τον τίτλο της ταινίας απο την οποία θέλει να αφαιρέσει την βαθμολογία του και να πατήσει το κουμπί **Αφαίρεση βαθμολογίας** για να αφαιρέσει την βαθμολογία του.
    * #### Εμφάνιση όλων των βαθμολογιών που έχει δώσει ο χρήστης
    
        Στην φόρμα αυτή υπάρχει ενα κουμπί με το όνομα **Εμφάνιση βαθμολογιών** οπου πατόντας το στο κάτω μέρος της φόρμας θα εμφανιστούν όλες οι βαθμολογίες που έχει δώσει ο χρήστης.

![alt text](/img/Rating.png)

* ### Σχολιασμός ταινίας http://localhost:5000
    * #### Εισαγωγή ενός σχολίου
    
        Μέσω της φόρμας **Σχολιασμός ταινίας** ο χρήστης συμπληρώνοντας τον τίτλο της ταινίας,το σχόλιο που θέλει να κάνει και πατόντας το κουμπί **Σχολιασμός** μπορεί να κάνει σχόλιο στην ταινία.
    * #### Διαγραφή σχολίου
    
        Μέσω της ίδιας φόρμας ο χρήστης μπορεί να συμπληρώσει τον τίτλο της ταινίας απο την οποία θέλει να αφαιρέσει το σχόλιο του και να πατήσει το κουμπί **Διαγραφή σχολίου** για να αφαιρέσει το σχόλιο του.
    * #### Εμφάνιση όλων των σχολίων που έχει κάνει ο χρήστης
    
        Στην φόρμα αυτή υπάρχει ενα κουμπί με το όνομα **Εμφάνιση σχολίων** οπου πατόντας το στο κάτω μέρος της φόρμας θα εμφανιστούν όλα το σχόλια που έχει κάνει ο χρήστης.

![alt text](/img/Comment.png)

* ### Αποσύνδεση - Χρήστη http://localhost:5000
    Στο navigation bar υπάρχει ένα κόκκινο κουμπί με το όνομα **Logout**. Πατόντας το κουμπί αυτό ο χρήστης μπορεί να κάνει αποσύνδεση απο την εφαρμογή και θα οδηγηθεί στην σελίδα εισόδου μετά την αποσύνδεση.

* ### Διαγραφή λογαριασμού - Χρήστη http://localhost:5000
    Στο navigation bar υπάρχει ένα γκρί κουμπί με το όνομα **Delete Account**. Πατόντας το κουμπί αυτό ο χρήστης μπορεί να διαγράψει οριστικά τον λογαριασμό του απο το σύστημα.

## Λειτουργίες του συστήματος - Διαχειριστή

* ### Πίνακας ελέγχου διαχειριστή http://localhost:5000/admin
    Κάνοντας είσοδο στο σύστημα αν ο χρήστης έχει δικαιώματα διαχείριση δηλαδή ανήκει στην κατηγορία διαχειριστών, τότε στο navigation bar θα εμφανιστεί η επιλογή **Admin Dashboard** κάνοντας κλικ στην επιλογή αυτή ο διαχειριστής μεταφέρεται στον πίνακα ελέγχου διαχειριστών. Από εκεί μπορεί να εκτελέσει όλες τις λειτουργίες στις οποίες έχουν πρόσβαση μόνο οι διαχειριστές

* ### Εισαγωγή νέας ταινίας στο MovieFlix http://localhost:5000/admin
    Στον πίνακα ελέγχου υπάρχει μια φορά με το όνομα **Προσθήκη/Ενημέρωση ταινίας** . Εκεί ο διαχειριστής μπορεί να εισάγει τα στοιχεία της νέας ταινίας και να κάνει κλικ στο κουμπί **Προσθήκη** για να καταχωρηθεί η ταινία στο σύστημα. Απαραίτητα για της εισαγωγή μιας νέας ταινίας είναι ο τίτλος της ταινίας (title) και τουλάχιστον ένας πρωταγωνιστής (actor). Αν δεν υπάρχουν εμφανίζεται σχετικό μήνυμα.

* ### Ενημέρωση υπάρχουσας ταινίας http://localhost:5000/admin
    Στον πίνακα ελέγχου υπάρχει μια φορά με το όνομα **Προσθήκη/Ενημέρωση ταινίας** . Εκεί ο διαχειριστής μπορεί να εισάγει τα στοιχεία της ταινίας που θελει να ενημερώσει και να κάνει κλικ στο κουμπί **Ενημέρωση** για ενημερώθει η  ταινία στο σύστημα. Απαραίτητο για την ενημέρωση της ταινίας είναι ο τίτλος της ταινίας που θέλουμε να ενημερωθεί (Τίτλος). Τα δεδομένα που θα εισαχθούν πρέπει να ακολουθούν την εξής μορφή:

![alt text](/img/P_U_Movie.png)

* ### Διαγραφή ταινίας από το MovieFlix http://localhost:5000/admin
    Στον πίνακα ελέγχου υπάρχει μια φορά με το όνομα **Διαγραφή ταινίας** . Εκεί ο διαχειριστής συμπληρώνοντας τον τίτλο της ταινίας που θέλει να διαγράψει και κάνοντας κλικ στο κουμπί **Διαγραφή** μπορεί να διαγράψει την ταινία από το σύστημα. Αν υπάρχουν δύο ταινίες με το ίδιο όνομα διαγράφεται αυτή με το πιο παλιό έτος κυκλοφορίας.

![alt text](/img/MDelete.png)

* ### Διαγραφή σχολίων άλλων χρηστών από μία ταινία http://localhost:5000/admin
    Στον πίνακα ελέγχου υπάρχει μια φορά με το όνομα **Διαγραφή σχολιου χρήστη** . Εκεί ο διαχειριστής συμπληρώνοντας τον τίτλο της ταινίας, το email του χρήση που έχει κάνει το σχόλιο και κάνοντας κλικ στο κουμπί **Διαγραφή** μπορεί να διαγράψει ενα σχόλιο οποιουδήποτε χρήστη απο μια ταινία.

![alt text](/img/DUComment.png)

* ### Αλλαγή κατηγορίας ενός χρήστη από απλό σε διαχειριστή http://localhost:5000/admin
    Στον πίνακα ελέγχου υπάρχει μια φορά με το όνομα **Διαχείρηση χρηστών** . Εκεί ο διαχειριστής συμπληρώνοντας το email του χρήστη και κάνοντας κλικ στο κουμπί **Αλλαγή κατηγορίας (admin)** αλλάζει την κατηγορία του χρήστη απο απλό χρήση σε διαχειριστή.

* ### Διαγραφή οποιουδήποτε απλού χρήστη http://localhost:5000/admin
    Στον πίνακα ελέγχου υπάρχει μια φορά με το όνομα **Διαχείρηση χρηστών** . Εκεί ο διαχειριστής συμπληρώνοντας το email του χρήστη και κάνοντας κλικ στο κουμπί **Διαγραφή χρήστη** αν ο χρήστης που θέλει να διαγράψει δεν είναι διαχείρισης, γίνεται η οριστική διαγραφή του απο το σύστημα.

![alt text](/img/DUser.png)